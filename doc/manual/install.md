# インストール手順


## Keras のインストール
コキュートスを動作させるためにはKerasのインストールが必要です。Kerasをインストールするためには、no
インストールが必要になります。コキュートスを使用して、Ｃのソースを生成するだけであればＧＰＵは使用せず、ＣＵＤＡのインストールは不要です。

### TensorFlowのインストール
https://www.tensorflow.org/install/
を参考にインストールしてください。上にＧＰＵは必須では無いので、簡単にインストールするのであれば、
```
sudo apt-get install python3-pip python3-dev
pip3 install tensorflow
```
でインストールできます。

### Kerasのインストール

https://keras.io/ja/#_2
を参考にtensorflow対応のＫｅｒａｓをインストールしてください。モデルの保存、呼び出しを行うため、ＨＤＦ５を扱うライブラリも必須です。
簡単にインストールするのであれば、
```
pip3 install keras
pip3 install h5py
```
でインストールできます。

## コキュートスのインストール
githubからソースをクローンすることで、コキュートスが使用できるようになります。作業ディレクトリへ移動し、
```
 git clone https://github.com/natsutan/cocytus
```
を実行してください。

Cのコンパイルにcmakeとgccを使います。インストールされていないのなら、インストールしてください。
```
sudo apt-get install cmake gcc
```

### 簡単な動作確認
example/vgg16/kerasに移動して、keras版のvgg16を動かしてください。
```
cd cocytus/example/vgg16/keras
python3 vgg16.py
```
実行すると数分待ちますが、このようにレイヤのサマリと、パラメータ数が表示されれば、KerasとＴｅｎｓｏｒＦｌｏｗのインストールは成功しています。
```
flatten (Flatten)            (None, 25088)             0
_________________________________________________________________
fc1 (Dense)                  (None, 4096)              102764544
_________________________________________________________________
fc2 (Dense)                  (None, 4096)              16781312
_________________________________________________________________
predictions (Dense)          (None, 1000)              4097000
=================================================================
Total params: 138,357,544.0
Trainable params: 138,357,544.0
Non-trainable params: 0.0
_________________________________________________________________
finish.
```

続いて、一つ上に戻り、Ｃソースを生成してみます。

```
cd ..
python3 ../../cocytus/cocytus.py vgg16.ini
```
最後にfinishが表示されれば成功です。

